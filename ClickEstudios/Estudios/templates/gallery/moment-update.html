{% extends "base/base.html" %}
{% block content %}
      <style>
               .circle {

                        border-radius: 2rem;
                        background-color:rgb(89, 89, 89);
                        display: flex;
                        align-items: center;
                        justify-content: center;
                        cursor: pointer;
                        background-size: cover;
                        background-position: center;
            }
            .nav .galley-a {
                  color: #ffc107 ;
                  font-weight: bolder;

            }
            input, select {
                  background-color: #2d2d2d !important;
                  border-radius: 2rem !important; border: none !important;
                  color: white !important; 
                  height: 2.9rem !important; width: 100% !important;
                  margin-top: 0.4rem;
            }
            #id_img {
                  display: none; 
            }
            .btn-atras
            {
                  display: none;
            }
      </style>
      <section class="text-white d-flex justify-content-center flex-wrap align-content-center w-100">
           
            <form action="" method="post" enctype="multipart/form-data"
                  style="width: max-content;">
                    {% csrf_token %}
                        <div class="d-flex">
                              <div id="circle" class="circle " style='background-image: url({{object.img.url}});
                              width: 420px; height: 247px;  background-position: center; background-size: cover;' onclick="document.getElementById('id_img').click()">
                                    <span class="blur-50 text-white p-3 rounded-4" style="font-weight: bold;">
                                          Cargar img
                                    </span>
                            </div>
                            <div class="w-100">
                                    <h6 class="m-0">
                                          Creando un nuevo momento
                                    </h6>
                                    <p style="font-size: 12px;" class="m-0 text-white-50">
                                          Crea un momento para tu galeria, con el que

                                    {{form.service}}
                                    
                                    {{form.name}}

                                    {{form.img}}
                                    <div class="d-flex justify-content-end me-0">
                                          <a  style="transition-delay: 0.1s;"  class="btn mt-3 text-white" href="{% url "estudios:gallery" %}">
                                                Atras
                                          </a>
                                          <button class="btn btn-primary bg-white bg-opacity-10 border-0 mt-3 rounded-4" style="font-weight: bold; width: 10rem;">
                                                Crear
                                         </button>
                                    </div>
                              </div>
                        </div>
            </form>

      </section>

      <script>
            document.getElementById('id_img').addEventListener('change', function(event) {
                      const file = event.target.files[0];
                      if (file) {
                              const reader = new FileReader();
                              reader.onload = function(e) {
                                        document.getElementById('circle').style.backgroundImage = `url(${e.target.result})`;
                              }
                              reader.readAsDataURL(file);
                      }
            });
    </script>

{% endblock  %}