{% extends "base/base.html" %}
{% block content %}
      {% load humanize %}
      <style>
            .nav .caja {
                  color: #ffc107;
                  font-weight: bolder;
                  transform: scale(1.1);
            }

      </style>

      <div class="container   text-white overflow-auto d-flex flex-wrap align-content-start  w-100  rounded-5">
            {% if is_open %}
            <div class="w-100 vh-100">
                  <div class="">
                        <h3 class="text-start">Movimientos</h3>
                        {% include "box/components/filter.html" %}
                              {% include "box/components/table.html" %}
                        </div>
                  </div>
                  <div class="position-sticky bottom-0 w-100">
                        <div class="col-md-6">
                              <st>Balance de Apertura: {{ balance_apertura }}</st>
                        </div>
                        <div class="col-md-6">
                              <h6>Ingresos: ${{ ingresos|intcomma }}.00</h6>
                              <h6>Gastos: ${{ egresos|intcomma }}.00</h6>
                              <h6>Balance en Caja: ${{ balance_caja|intcomma }}.00</h6>
                        </div>
                  </div>
            {% else %}
                        <div class='d-flex justify-content-center align-content-center flex-wrap vh-100 w-100'>
                              Caja cerrada
                        </div>
            {% endif %}
      </div>

      <script>
            function filterMovimientos(tipo) {
                  const rows = document.querySelectorAll('.movimiento-row');
                  rows.forEach(row => {
                        if (tipo === 'todos' || row.getAttribute('data-tipo') === tipo) {
                              row.style.display = '';
                        } else {
                              row.style.display = 'none';
                        }
                  });
            }
      </script>
{% endblock  %}
